<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro Curso Html</title>
    
    <!-- CSS-->
    <link rel="stylesheet" href="/estilos/admin.css">
    <link rel="stylesheet" href="/estilos/index.css">
    <link rel="stylesheet" href="/estilos/objetivosCursoJs.css">

   <!-- JS-->
    <script src="/js/modal.js"></script>
   
   <!-- Fontawesome -->
   <script src="https://kit.fontawesome.com/7a779ca8ce.js" crossorigin="anonymous"></script> 

   <!-- Enlace al favicon -->
   <link rel="icon" type="image/png" href="/imagenes/favicon.png">
    
</head>
<body>
   <!-- Encabezado con imagen -->
    <div class="header">
        <img src="/imagenes/header/HeaderSkillTech.png" alt="Imagen de encabezado">
    </div>

<!-- Menú y submenú -->
<nav>
    <ul>
        <li><a href="/usuarios/html/anonimo/indexAnonimo.html" title="Inicio"><i class="fas fa-home"></i> Inicio</a></li>
        <li><a href="/usuarios/html/anonimo/listaCursosAnonimo.html" title="Catálogo"><i class="fas fa-book-open"></i> Catálogo</a></li>
        <li><a href="/usuarios/html/anonimo/contacto.html" title="Contacto"><i class="fas fa-phone"></i> Contacto</a></li>

    </ul>
</nav>
    
<!-- Mensaje de Bienvenida -->
<div class="testimonios">
    <div class="testimonio">
        <h2><i class="fas fa-graduation-cap"></i> ¡Bienvenido al Mundo de Html!</h2>
        <p>¡Regístrate ahora para explorar el fascinante mundo de HTML y aprender a desarrollar páginas web increíbles y atractivas! Únete a nosotros y comienza tu viaje hacia el dominio de HTML.</p>
        <button id="abrirModal" class="botonEnviar">Registrarse</button>
    </div>
</div>
  
  <!-- Contenedor para imagen HTML y temario -->
  <div class="contenedor-colorido">
    <div class="contenedor-flex">
        <div class="curso-imagen">
            <img src="/imagenes/CursoHtml.jpg" alt="Imagen del curso">
        </div>
        <div class="temario">
            <h3><i class="fas fa-book-open"></i> Temario del curso</h3>
            <ul>
                <li>Introducción a HTML</li>
                <li>Estructura básica de una página HTML</li>
                <li>Etiquetas y elementos HTML</li>
                <li>Formularios y elementos de entrada</li>
                <li>Estilos y diseño con CSS</li>
            </ul>
        </div>
    </div>
  </div>
  
  <!-- Contenedor para Objetivos del curso -->
  <div class="contenedor-recomendaciones">
    <h2><i class="fas fa-bullseye"></i> Objetivos</h2>
    <div class="recomendaciones">
        <div class="recomendacion">
            <img src="/imagenes/htmlobjetivo1.jpg" alt="HTML">
            <div class="titulo">Objetivo 1</div>
            <div class="descripcion">Comprender los conceptos fundamentales de HTML, incluyendo etiquetas y elementos básicos.</div>
        </div>
        <div class="recomendacion">
            <img src="/imagenes/htmlycss.jpg" alt="CSS">
            <div class="titulo">Objetivo 2</div>
            <div class="descripcion">Poder crear páginas web estructuradas y bien diseñadas utilizando HTML y CSS.</div>
        </div>
        <div class="recomendacion">
            <img src="/imagenes/htmlformulario.jpg" alt="Web">
            <div class="titulo">Objetivo 3</div>
            <div class="descripcion">Familiarizarse con el uso de formularios y elementos de entrada en HTML para interactuar con los usuarios.</div>
        </div>
    </div>
  </div>
  
  <!-- Contenedor para Metodología de Enseñanza -->
  <section class="seccion-iconos">
    <h2><i class="fas fa-chalkboard-teacher"></i>
      Metodología de Enseñanza</h2>
  
    <div class="iconos">
        <div class="icono">
            <img src="/imagenes/aprendizaje.jpg" alt="Aprendizaje">
            <p>Aprendizaje práctico</p>
        </div>
        <div class="icono">
            <img src="/imagenes/apoyo.jpg" alt="apoyo">
            <p>Apoyo personalizado</p>
        </div>
        <div class="icono">
            <img src="/imagenes/recursos.jpg" alt="recursos">
            <p>Acceso a recursos complementarios</p>
        </div>
    </div>
  </section>
  <!-- Sección de Preguntas Frecuentes -->
  <section class="faq-section">
    <h2><i class="fas fa-question-circle"></i> Preguntas Frecuentes</h2>
    <div class="faq-list">
        <div class="faq-item">
            <h3>¿Cuál es la duración del curso?</h3>
            <p>El curso tiene una duración total de 4 semanas, con una carga horaria de 20 horas.</p>
        </div>
        <div class="faq-item">
            <h3>¿Necesito conocimientos previos para tomar este curso?</h3>
            <p>No se requieren conocimientos previos. El curso está diseñado para principiantes en HTML.</p>
        </div>
        <div class="faq-item">
            <h3>¿Cuál es el coste del curso?</h3>
            <p>El curso es totalmente gratuito. En SkillTech creemos en el acceso igualitario a la educación, por lo que este curso en particular no tiene ningún coste asociado.</p>
        </div>
        
        <div class="faq-item">
            <h3>¿Hay algún requisito técnico para tomar el curso?</h3>
            <p>Solo necesitas acceso a un ordenador con conexión a internet. No se requieren conocimientos técnicos avanzados.</p>
        </div>
    </div>
</section>
  
  <div class="contenedor-flex">
    <!-- Contenedor para la sección de beneficios del curso -->
    <div class="contenedor-beneficios">
      <section class="beneficios">
        <h2><i class="fas fa-check-circle"></i> Beneficios del Curso</h2>
        <ul>
          <li><i class="fas fa-check"></i> Adquiere habilidades fundamentales en HTML</li>
          <li><i class="fas fa-check"></i> Acceso a oportunidades profesionales en desarrollo web</li>
          <li><i class="fas fa-check"></i> Acceso a tutoriales en video y material de lectura complementario</li>
          <li><i class="fas fa-check"></i> Participación en la comunidad de exalumnos</li>
        </ul>
      </section>
    </div>
  
    <!-- Contenedor para la otra sección a la derecha -->
    <div class="otra-seccion">
      <section class="beneficios">
        <h2><i class="fas fa-check-circle"></i> Más Beneficios del Curso</h2>
        <ul>
          <li><i class="fas fa-check"></i> Aprenderás a construir páginas web atractivas y funcionales</li>
          <li><i class="fas fa-check"></i> Acceso a recursos exclusivos para estudiantes</li>
          <li><i class="fas fa-check"></i> Soporte y asistencia continua durante tu aprendizaje</li>
          <li><i class="fas fa-check"></i> Oportunidades de networking con otros profesionales del sector</li>
        </ul>
      </section>
    </div>
  </div>

  <!-- Contenedor para testimonios de estudiantes -->
  <section class="seccion-testimonios">
    <h2><i class="fas fa-comment-alt"></i> Testimonios de Estudiantes</h2>
  
    <div class="testimonios">
        <div class="testimonio">
            <p>"¡Este curso de HTML cambió por completo mi carrera! Gracias a los ejemplos prácticos y la guía del instructor, ahora me siento seguro construyendo páginas web. ¡Altamente recomendado!"</p>
            <p class="nombre">- Ana Sánchez</p>
        </div>
        <div class="testimonio">
            <p>"Me inscribí en este curso sin experiencia previa en desarrollo web y fue la mejor decisión que he tomado. Los materiales del curso son excelentes y el equipo de soporte siempre está disponible para ayudar. ¡Ahora puedo crear mis propias páginas web!"</p>
            <p class="nombre">- María Rodríguez</p>
        </div>
        <div class="testimonio">
            <p>"Increíble curso para aprender HTML. Los conceptos se explican de manera clara y concisa, y los ejercicios prácticos son muy útiles para reforzar el aprendizaje. No puedo agradecer lo suficiente al equipo de instructores por su dedicación y apoyo."</p>
            <p class="nombre">- Juan Pérez</p>
        </div>
    </div>
  </section>
  
     <!-- Ventana modal de inicio de sesión -->
     <div id="modal" class="modal" style="display: none;">
      <div class="modal-content">
          <div class="registro-div">
              <!-- formulario -->
              <form id="registro" class="form">
                <h2 class="title2"><img src="/imagenes/LogoHeader.png" alt="Icono de la aplicación"> Bienvenid@</h2>
                  <span class="close" id="cerrarModal">&times;</span>
                  <!-- Campo Nombre -->
                  <div class="inputContainer">
                      <input type="text" id="usuario" class="input" name="usuario" required>
                      <label for="usuario" id="labelUsuario" class="label">Usuario:</label>
                  </div>

                  <!-- Campo Contraseña -->
                  <div class="inputContainer">
                      <input type="password" id="contrasena" class="input" name="contrasena" required>
                      <label for="password" id="labelPassword" class="label">Contraseña:</label>
                  </div>
                                              
                  <!-- Enlace a la página de registro -->
                  <p>¿No tienes una cuenta? <a href="#" id="mostrarRegistro">Regístrate</a></p>
                  
                  <!-- Botón de registro -->
                  <button type="submit" class="botonEnviar"><i class="fas fa-sign-in-alt"></i> Entrar</button>


                  <!-- Mensaje de error -->
                  <p class="mensaje-error" id="mensajeError" style="display: none; color: #ff5b5b;"><i class="fas fa-exclamation-circle"></i> Usuario o contraseña incorrectos. Por favor, inténtalo de nuevo.</p>
              </form>
          </div>
      </div>
  </div>

    <!-- Ventana modal de registro -->
  <div id="modalRegistro" class="modal" style="display: none;">
      <div class="modal-content">
          <div class="registro-div">
              <!-- Formulario de registro -->
              <form id="registro2" class="form">
                <h2 class="title2"><img src="/imagenes/LogoHeader.png" alt="Icono de la aplicación"> Regístrate</h2>
                  <span class="close" id="cerrarModal2">&times;</span>
                  
                  <!-- Campo Nombre -->
                  <div class="inputContainer">
                      <input type="text" id="nombre" class="input" name="nombre" required>
                      <label for="nombre" id="labelNombre" class="label">Nombre:</label>
                  </div>
                  
                  <!-- Campo Apellidos -->
                  <div class="inputContainer">
                      <input type="text" id="apellidos" class="input" name="apellidos" required>
                      <label for="apellidos" id="labelApellidos" class="label">Apellidos:</label>
                  </div>
                  
                  <!-- Campo Correo -->
                  <div class="inputContainer">
                      <input type="email" id="correo" class="input" name="correo" required>
                      <label for="correo" id="labelCorreo" class="label">Correo:</label>
                  </div>
                  
                  <!-- Campo Contraseña -->
                  <div class="inputContainer">
                      <input type="password" id="password" class="input" name="password" required>
                      <label for="password" id="labelPass" class="label">Contraseña:</label>
                  </div>
                  
                  <!-- Campo oculto para idrol -->
                  <input type="hidden" class="input" id="idrol" name="idrol" value="2">

                  <!-- Botón de registro -->
                  <button type="submit" class="botonRegistro"><i class="fas fa-user-plus"></i> Registrarse</button>
              </form>
          </div>
      </div>
  </div>


    <!-- Footer -->
    <footer>
        <div class="footer-column">
            <h3><img src="/imagenes/icono.png" alt="SkillTech Logo" class="logo">SkillTech</h3>
            <p>Bienvenido al mundo de los cursos de informática. Descubre tendencias, adquiere habilidades prácticas y mantente actualizado. Explora cursos exclusivos y avanza en tu camino hacia la maestría informática.</p>
        </div>
        <div class="footer-column">
            <h3><i class="fas fa-map-marker-alt"></i> Localización</h3>
            <p>Avenida La Costa, 25<br>33202 Gijón, Asturias<br>España</p>
        </div>
        <div class="footer-column">
            <h3 class="contact-heading"><i class="fas fa-phone"></i> Contacto</h3>
            <p class="phone-icon"><i class="fas fa-mobile-alt"></i> +34 653 111 222</p>
            <p><i class="fas fa-envelope"></i> SkillTech@mail.com</p>
            <p><i class="fab fa-facebook"></i> www.facebook.com</p>
        </div>
    </footer>
    <!-- Modal de bienvenida para administrador -->
    <div id="bienvenidaModalAdmin" class="modal bienvenida-modal">
        <div class="modal-content">
            <h2><i class="fas fa-user-shield icon"></i> Bienvenid@ de nuevo </h2>
            <p>¡Hola administrador!</p>
        </div>
    </div>

    <!-- Modal de bienvenida para usuario registrado -->
    <div id="bienvenidaModalRegistrado" class="modal bienvenida-modal">
        <div class="modal-content">
            <h2><i class="fas fa-user icon"></i> Bienvenid@ de nuevo </h2>
            <p>¡Es genial verte aquí!</p>
        </div>
    </div>
    <!-- Modal de bienvenida para usuario registrado -->
    <div id="bienvenidaModalRegistro" class="modal bienvenida-modal" style="display: none;">
        <div class="modal-content">
            <h2><i class="fas fa-user-check icon"></i> Bienvenid@ <span id="nombreUsuarioRegistradoo"></span></h2>
            <p>Gracias por unirte a nosotros.</p>
            <p id="registroExitosoMessage" style="display: none; color: green;">¡Te has registrado correctamente!</p>
        </div>
    </div>

    
    <!-- Script para manejar el LOGIN -->
    <script>
        document.querySelector("#registro").addEventListener('submit', function(event) {
            event.preventDefault();
            // Obtener los valores del formulario
            var nombreUsuario = document.querySelector('#usuario').value;
            var clave = document.querySelector('#contrasena').value;

            // Realizar la solicitud Fetch
            fetch('http://localhost:8080/usuarios/login', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ nombreUsuario: nombreUsuario, clave: clave })
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Error al iniciar sesión');
                }
                return response.json();
            })
            .then(data => {
                // Almacenar el token JWT y el ID de usuario en localStorage
                localStorage.setItem('token', data.token);
                localStorage.setItem('idUsuario', data.idUsuario);

                // Obtener el nombre de usuario
                var nombreUsuario = data.nombreUsuario;
                // Mostrar el nombre de usuario solo para el usuario registrado
                var nombreUsuarioRegistradooElement = document.querySelector('#nombreUsuarioRegistradoo');
                
                if (nombreUsuarioRegistradooElement) {
                    nombreUsuarioRegistradooElement.textContent = nombreUsuario;
                } else {
                    console.error('Elemento de nombre de usuario no encontrado en el DOM.');
                }
                // Redireccionar según EL ROL DEL USUARIO
                if (data.rol === 'ADMINISTRADOR') {
                    document.querySelector('#bienvenidaModalAdmin').style.display = 'block';
                    // Redireccionar 
                    setTimeout(function() {
                        window.location.href = '/usuarios/html/admin/indexAdmin.html';
                    }, 3000);
                } else if (data.rol === 'REGISTRADO') {
                    document.querySelector('#bienvenidaModalRegistrado').style.display = 'block';
                    // Redireccionar 
                    setTimeout(function() {
                        window.location.href = '/usuarios/html/registrado/indexRegistrado.html';
                    }, 3000);
                } else {
                    console.error('Rol de usuario desconocido');
                }
            })
            .catch(error => {
                // Mostrar mensaje de error
                document.querySelector('#mensajeError').style.display = 'block';
                console.error('Error:', error);
            });
        });

    </script>


    <!-- Script para REGISTRAR un usuario en la BBDD desde el formulario de registro -->
<script>
    document.querySelector("#registro2").addEventListener('submit', function(event) {
        event.preventDefault();

        // Obtener los valores del formulario
        const nombre = document.querySelector('#nombre').value;
        const apellidos = document.querySelector('#apellidos').value;
        const correo = document.querySelector('#correo').value;
        const password = document.querySelector('#password').value;
        const rol = "REGISTRADO";

        // Verificar que los campos no estén vacíos
        if (nombre === '' || apellidos === '' || correo === '' || password === '') {
            console.error('Por favor, complete todos los campos.');
            return;
        }

        // Crear un objeto JSON con los datos del usuario
        const usuario = {
            nombre,
            apellidos,
            correo,
            password,
            rol
        };

        // Realizar la solicitud Fetch
        fetch('http://localhost:8080/usuarios/insertar', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(usuario)
        })
        .then(response => {
            if (!response.ok) {
                throw new Error('Error al registrar el usuario');
            }
            return response.json();
        })
        .then(data => {
            // Mostrar la ventana modal de bienvenida para el usuario registrado
            const nombreUsuarioRegistradoElement = document.querySelector('#nombreUsuarioRegistradoo');
            if (nombreUsuarioRegistradoElement) {
                nombreUsuarioRegistradoElement.textContent = nombre;
            } else {
                console.error('Elemento nombreUsuarioRegistrado no encontrado en el DOM.');
            }
            document.querySelector('#bienvenidaModalRegistro').style.display = 'block';
            
            // Mostrar mensaje de registro exitoso
            document.querySelector('#registroExitosoMessage').style.display = 'block';
            setTimeout(() => {
                document.querySelector('#registroExitosoMessage').style.display = 'none';
                document.querySelector('#bienvenidaModalRegistro').style.display = 'none';
                // Cerrar la ventana modal de registro y abrir la ventana modal de login
                const modalRegistro = document.querySelector('#modalRegistro');
                const modalLogin = document.querySelector('#modalLogin');
                if (modalRegistro) {
                    modalRegistro.style.display = 'none';
                }
                if (modalLogin) {
                    modalLogin.style.display = 'block';
                }
            }, 3000);
        })
        .catch(error => {
            console.error('Error:', error);
        });
    });
</script>


    </body>
    </html>
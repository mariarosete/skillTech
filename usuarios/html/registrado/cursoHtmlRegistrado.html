<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curso Inscripción Html</title>
   
    <!-- CSS-->
    <link rel="stylesheet" href="/estilos/admin.css">
    <link rel="stylesheet" href="/estilos/index.css">
    <link rel="stylesheet" href="/estilos/objetivosCursoJs.css">
    
    <!-- JS-->
    <script src="/js/inscripciones_submenu.js"></script>
  
   <!-- Fontawesome -->
   <script src="https://kit.fontawesome.com/7a779ca8ce.js" crossorigin="anonymous"></script> 

   <!-- Enlace al favicon -->
   <link rel="icon" type="image/png" href="/imagenes/favicon.png">
    
</head>
<body>
    <!-- Encabezado con imagen -->
    <div class="header">
        <img src="/imagenes/header/HeaderSkillTech.png" alt="Imagen de encabezado">
    </div>

<!-- Menú y submenú -->
<nav>
    <ul>
        <li><a href="/usuarios/html/registrado/indexRegistrado.html" title="Inicio"><i class="fas fa-home"></i> Inicio</a></li>
        <li><a href="/usuarios/html/registrado/listaCursosRegistrado.html" title="Catálogo"><i class="fas fa-book-open"></i> Catálogo</a></li>
        <li><a href="/usuarios/html/registrado/perfilUsuario.html" title="Perfil de Usuario"><i class="fas fa-user-circle"></i> Mi Perfil</a></li>
        <li>
            <a href="/usuarios/html/registrado/cursosInscritos.html" id="enlaceMisCursos" title="Mis Inscripciones"><i class="fas fa-user-graduate"></i> Mis inscripciones <i class="fas fa-chevron-down"></i></a>
            <ul id="submenuInscripciones">
                <!-- Inscripciones dinámicamente -->
            </ul>
        </li>
        <li><a href="/usuarios/html/registrado/soporte.html" title="Soporte"><i class="fas fa-question-circle"></i> Soporte</a></li>
        <li><a href="#" id="cerrarSesion"><i class="fas fa-sign-out-alt"></i> Cerrar sesión</a></li>
    </ul>
</nav>

   <!-- Mensaje de Bienvenida para la Inscripción al Curso de HTML -->
    <div class="testimonios">
        <div class="testimonio">
            <h2><i class="fas fa-graduation-cap"></i> Bienvenido a la Inscripción al Curso de HTML</h2>
            <p>¡Estás a punto de embarcarte en una emocionante aventura de aprendizaje en HTML! Con este curso, explorarás el fascinante mundo de HTML y aprenderás a desarrollar páginas web increíbles y atractivas. ¡No pierdas la oportunidad de unirte a nosotros y comenzar tu viaje hacia el dominio de HTML!</p>
            <button href="#" id="enlaceInscripcion" class="botonEnviar">¡Inscríbete ahora!</button>
        </div>
    </div>

 <!-- Contenedor para imagen HTML y temario -->
    <div class="contenedor-colorido">
        <div class="contenedor-flex">
            <div class="curso-imagen">
                <img src="/imagenes/CursoHtml.jpg" alt="Imagen del curso">
            </div>
            <div class="temario">
                <h3><i class="fas fa-book-open"></i> Temario del curso</h3>
                <ul>
                    <li>Introducción a HTML</li>
                    <li>Estructura básica de una página HTML</li>
                    <li>Etiquetas y elementos HTML</li>
                    <li>Formularios y elementos de entrada</li>
                    <li>Estilos y diseño con CSS</li>
                </ul>
            </div>
            <!-- Contenedores para materiales -->
            <div>
                <h3><i class="fas fa-file-pdf"></i> Materiales en PDF</h3>
                <ul id="pdf-materials-list"></ul>
            </div>
            <div>
                <h3><i class="fas fa-video"></i> Materiales en Video</h3>
                <ul id="video-materials-list"></ul>
            </div>
            <div>
                <h3><i class="fas fa-file-powerpoint"></i> Materiales en Presentación</h3>
                <ul id="presentation-materials-list"></ul>
            </div>
            <div>
                <h3><i class="fas fa-link"></i> Otros Materiales</h3>
                <ul id="link-materials-list"></ul>
            </div>
            <div>
                <h3><i class="fas fa-code"></i> Otros</h3>
                <ul id="other-materials-list"></ul>
            </div>
            <div>
                <h3><i class="fas fa-question"></i> Materiales Generales</h3>
                <ul id="general-materials-list"></ul>
            </div>
        </div>
    </div>

  
  <!-- Contenedor para Objetivos del curso -->
  <div class="contenedor-recomendaciones">
    <h2><i class="fas fa-bullseye"></i> Objetivos</h2>
    <div class="recomendaciones">
        <div class="recomendacion">
            <img src="/imagenes/htmlobjetivo1.jpg" alt="HTML">
            <div class="titulo">Objetivo 1</div>
            <div class="descripcion">Comprender los conceptos fundamentales de HTML, incluyendo etiquetas y elementos básicos.</div>
        </div>
        <div class="recomendacion">
            <img src="/imagenes/htmlycss.jpg" alt="CSS">
            <div class="titulo">Objetivo 2</div>
            <div class="descripcion">Poder crear páginas web estructuradas y bien diseñadas utilizando HTML y CSS.</div>
        </div>
        <div class="recomendacion">
            <img src="/imagenes/htmlformulario.jpg" alt="Web">
            <div class="titulo">Objetivo 3</div>
            <div class="descripcion">Familiarizarse con el uso de formularios y elementos de entrada en HTML para interactuar con los usuarios.</div>
        </div>
    </div>
  </div>
  
  <!-- Contenedor para Metodología de Enseñanza -->
  <section class="seccion-iconos">
    <h2><i class="fas fa-chalkboard-teacher"></i>
      Metodología de Enseñanza</h2>
    
    <div class="iconos">
        <div class="icono">
            <img src="/imagenes/aprendizaje.jpg" alt="Aprendizaje">
            <p>Aprendizaje práctico</p>
        </div>
        <div class="icono">
            <img src="/imagenes/apoyo.jpg" alt="apoyo">
            <p>Apoyo personalizado</p>
        </div>
        <div class="icono">
            <img src="/imagenes/recursos.jpg" alt="recursos">
            <p>Acceso a recursos complementarios</p>
        </div>
    </div>
  </section>
  <!-- Sección de Preguntas Frecuentes -->
    <section class="faq-section">
        <h2><i class="fas fa-question-circle"></i> Preguntas Frecuentes</h2>
        <div class="faq-list">
            <div class="faq-item">
                <h3>¿Cuál es la duración del curso?</h3>
                <p>El curso tiene una duración total de 4 semanas, con una carga horaria de 20 horas.</p>
            </div>
            <div class="faq-item">
                <h3>¿Necesito conocimientos previos para tomar este curso?</h3>
                <p>No se requieren conocimientos previos. El curso está diseñado para principiantes en HTML.</p>
            </div>
            <div class="faq-item">
                <h3>¿Cuál es el coste del curso?</h3>
                <p>El curso es totalmente gratuito. En SkillTech creemos en el acceso igualitario a la educación, por lo que este curso en particular no tiene ningún coste asociado.</p>
            </div>
            
            <div class="faq-item">
                <h3>¿Hay algún requisito técnico para tomar el curso?</h3>
                <p>Solo necesitas acceso a un ordenador con conexión a internet. No se requieren conocimientos técnicos avanzados.</p>
            </div>
        </div>
    </section>
  
  <div class="contenedor-flex">
    <!-- Contenedor para la sección de beneficios del curso -->
    <div class="contenedor-beneficios">
      <section class="beneficios">
        <h2><i class="fas fa-check-circle"></i> Beneficios del Curso</h2>
        <ul>
          <li><i class="fas fa-check"></i> Adquiere habilidades fundamentales en HTML</li>
          <li><i class="fas fa-check"></i> Acceso a oportunidades profesionales en desarrollo web</li>
          <li><i class="fas fa-check"></i> Acceso a tutoriales en video y material de lectura complementario</li>
          <li><i class="fas fa-check"></i> Participación en la comunidad de exalumnos</li>
        </ul>
      </section>
    </div>
  
    <!-- Contenedor para la otra sección a la derecha -->
    <div class="otra-seccion">
      <section class="beneficios">
        <h2><i class="fas fa-check-circle"></i> Más Beneficios del Curso</h2>
        <ul>
          <li><i class="fas fa-check"></i> Aprenderás a construir páginas web atractivas y funcionales</li>
          <li><i class="fas fa-check"></i> Acceso a recursos exclusivos para estudiantes</li>
          <li><i class="fas fa-check"></i> Soporte y asistencia continua durante tu aprendizaje</li>
          <li><i class="fas fa-check"></i> Oportunidades de networking con otros profesionales del sector</li>
        </ul>
      </section>
    </div>
  </div>
  
   <!-- Contenedor para testimonios de estudiantes -->
  <section class="seccion-testimonios">
    <h2><i class="fas fa-users"></i> Testimonios de Estudiantes</h2>
  
    <div class="testimonios">
        <div class="testimonio">
            <p>"¡Este curso de HTML cambió por completo mi carrera! Gracias a los ejemplos prácticos y la guía del instructor, ahora me siento seguro construyendo páginas web. ¡Altamente recomendado!"</p>
            <p class="nombre">- Ana Sánchez</p>
        </div>
        <div class="testimonio">
            <p>"Me inscribí en este curso sin experiencia previa en desarrollo web y fue la mejor decisión que he tomado. Los materiales del curso son excelentes y el equipo de soporte siempre está disponible para ayudar. ¡Ahora puedo crear mis propias páginas web!"</p>
            <p class="nombre">- María Rodríguez</p>
        </div>
        <div class="testimonio">
            <p>"Increíble curso para aprender HTML. Los conceptos se explican de manera clara y concisa, y los ejercicios prácticos son muy útiles para reforzar el aprendizaje. No puedo agradecer lo suficiente al equipo de instructores por su dedicación y apoyo."</p>
            <p class="nombre">- Juan Pérez</p>
        </div>
    </div>
  </section>

  <!-- Modal de confirmación de registro duplicado -->
<div id="RegistroDuplicado" class="modal bienvenida-modal" style="display: none;">
    <div class="modal-content">
        <i class="fas fa-check-circle" style="color: #27ae60; font-size: 24px;"></i>
        <p>¡Ya estás inscrito en el curso!</p>  
    </div>
</div>

<!-- Modal de confirmación de registro en el curso -->
<div id="bienvenidaModalRegistro" class="modal bienvenida-modal" style="display: none;">
    <div class="modal-content">
        <i class="fas fa-check-circle" style="color: #27ae60; font-size: 24px;"></i>
        <p>Bienvenido al curso. ¡Te has inscrito con éxito!</p>  
    </div>
</div>
   
    <!-- Footer -->
    <footer>
        <div class="footer-column">
            <h3><img src="/imagenes/icono.png" alt="SkillTech Logo" class="logo">SkillTech</h3>
            <p>Bienvenido al mundo de los cursos de informática. Descubre tendencias, adquiere habilidades prácticas y mantente actualizado. Explora cursos exclusivos y avanza en tu camino hacia la maestría informática.</p>
        </div>
        <div class="footer-column">
            <h3><i class="fas fa-map-marker-alt"></i> Localización</h3>
            <p>Avenida La Costa, 25<br>33202 Gijón, Asturias<br>España</p>
        </div>
        <div class="footer-column">
            <h3 class="contact-heading"><i class="fas fa-phone"></i> Contacto</h3>
            <p class="phone-icon"><i class="fas fa-mobile-alt"></i> +34 653 111 222</p>
            <p><i class="fas fa-envelope"></i> SkillTech@mail.com</p>
            <p><i class="fab fa-facebook"></i> www.facebook.com</p>
        </div>
    </footer>

   <!--Script para inscribirse en los cursos  -->
    <script>
            document.getElementById("enlaceInscripcion").addEventListener('click', function() {
        event.preventDefault(); 
        // Obtener el token JWT almacenado en localStorage
        const token = localStorage.getItem('token');

        const urlParams = new URLSearchParams(window.location.search);
        const idcurso = urlParams.get('idcurso');

        // Función para obtener el ID de usuario del token JWT
        function getIdUsuarioFromToken(token) {
            const tokenParts = token.split('.');
            const payload = JSON.parse(atob(tokenParts[1]));
            return payload.userId;
        }

        // Obtener el ID del usuario del token JWT
        const idusuario = getIdUsuarioFromToken(token);

        // Verificar la inscripción del usuario en el curso antes de realizar la solicitud POST
        const urlComprobarInscripcion = `https://skilltechback-42717f57a83b.herokuapp.com/inscripciones/buscarInscripcionUsuarioCurso/${idusuario}/${idcurso}`;

        fetch(urlComprobarInscripcion, {
            method: 'GET',
            headers: {
                'Authorization': `Bearer ${token}`
            }
        })
        .then(response => {
            if (response.status === 200) {
                // El usuario ya está inscrito en el curso
                console.log('El usuario ya está inscrito en este curso');
                var modal = document.getElementById('RegistroDuplicado');
                if (modal) {
                    modal.style.display = 'block';
                    setTimeout(function() {
                        modal.style.display = 'none';
                    }, 3000);
                } else {
                    console.error('Modal de registro duplicado no encontrado en el DOM.');
                }
            } else if (response.status === 404) {
                // El usuario no está inscrito en el curso
                console.log('El usuario no está inscrito en este curso');
                // Realizar la solicitud POST para inscribir al usuario
                fetch('https://skilltechback-42717f57a83b.herokuapp.com/inscripciones/insertar', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': 'Bearer ' + token 
                    },
                    body: JSON.stringify({
                        usuario: { idusuario: idusuario },
                        curso: { idcurso: idcurso }
                    })
                })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Error en la solicitud: ' + response.statusText);
                    }
                    return response.json();
                })
                .then(data => {
                    console.log('Inscripción realizada exitosamente', data);
                    // Aquí puedes mostrar un mensaje al usuario indicando que se ha inscrito correctamente
                })
                .catch(error => {
                    console.error('Error al realizar la inscripción:', error);
                    var modal = document.getElementById('bienvenidaModalRegistro');
                    if (modal) {
                        modal.style.display = 'block';
                        
                        var nombreUsuarioRegistradooElement = document.getElementById('nombreUsuarioRegistradoo');
                        if (nombreUsuarioRegistradooElement) {
                            nombreUsuarioRegistradooElement.textContent = nombreUsuario; 
                        } else {
                            console.error('Elemento nombreUsuarioRegistradoo no encontrado en el DOM.');
                        }
                        setTimeout(function() {
                            modal.style.display = 'none';
                        }, 3000);
                    } else {
                        console.error('Modal de confirmación no encontrado en el DOM.');
                    }
                });
            } else {
                throw new Error('Error al verificar la inscripción del usuario: ' + response.statusText);
            }
        })
        .catch(error => {
            console.error('Error al verificar la inscripción del usuario:', error);
        });
    });

    </script>
  <!--Script para cerrar sesión  -->         
    <script>
        
        var botonCerrarSesion = document.getElementById('cerrarSesion');

        botonCerrarSesion.addEventListener('click', function() {
            window.location.href = '/usuarios/html/anonimo/indexAnonimo.html';
        });

    </script>
</body>
</html>